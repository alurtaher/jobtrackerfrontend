<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Companies - JobTracker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="../css/companies.css">
</head>

<body>
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="logo">ðŸ“Š Jobby</div>
    <ul class="nav-links" id="navLinks">
      <li><a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
      <li><a href="jobapplications.html"><i class="fas fa-briefcase"></i> Job Applications</a></li>
      <li><a href="joblistings.html" ><i class="fas fa-list"></i> Job Listings</a></li>
      <li><a href="companies.html" class="active"><i class="fas fa-building"></i> Companies</a></li>
      <li><a href="notifications.html"><i class="fas fa-bell"></i> Notifications</a></li>
      <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
      <li><button id="logoutBtn" aria-label="Logout"><i class="fas fa-sign-out-alt"></i> Logout</button></li>
    </ul>
  </nav>

  <main class="main-content" role="main">
    <h1>My Companies</h1>

    <button id="addCompanyBtn" aria-haspopup="dialog" aria-controls="companyModal" aria-expanded="false">
      <i class="fas fa-plus"></i> Add Company
    </button>

    <div id="messages" role="alert" aria-live="assertive"></div>

    <table role="table" aria-label="List of companies" id="companiesTable">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Industry</th>
          <th scope="col">Size</th>
          <th scope="col">Contact Info</th>
          <th scope="col">Notes</th>
          <th scope="col" style="width: 120px;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Companies get injected here -->
      </tbody>
    </table>
  </main>

  <!-- Company Modal -->
  <div id="companyModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="companyModalTitle" tabindex="-1"
    hidden>
    <div class="modal-content" role="document">
      <button type="button" class="modal-close" id="closeCompanyModalBtn" aria-label="Close">&times;</button>
      <h2 id="companyModalTitle" class="modal-header">Add Company</h2>

      <div id="companyFormMessage" class="message" role="alert"></div>

      <form id="companyForm" novalidate>
        <label for="companyName">Name <span aria-hidden="true">*</span></label>
        <input type="text" id="companyName" name="name" required aria-required="true" autocomplete="off" />

        <label for="companyIndustry">Industry</label>
        <input type="text" id="companyIndustry" name="industry" autocomplete="off" />

        <label for="companySize">Size</label>
        <input type="text" id="companySize" name="size" autocomplete="off" />

        <label for="companyContact">Contact Info</label>
        <input type="text" id="companyContact" name="contactInfo" autocomplete="off" />

        <label for="companyNotes">Notes</label>
        <textarea id="companyNotes" name="notes"></textarea>

        <button type="submit" id="companySubmitBtn">Save</button>
      </form>
    </div>
  </div>

  <script src="../js/companies.js"></script>
</body>

</html>